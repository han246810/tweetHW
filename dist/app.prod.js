"use strict";var express=require("express"),app=express(),logger=require("morgan"),cookieParser=require("cookie-parser"),bodyParser=require("body-parser"),path=require("path"),tweets=require("./tweets"),mongoose=require("mongoose");mongoose.connect("mongodb://localhost:127.0.0.1:27017/tweet",{useNewUrlParser:!0});var db=mongoose.connection;db.on("error",console.error.bind(console,"connection error:")),db.once("open",function(){console.log("Connection Successful!")}),db.once("close",function(){console.log("Disconnection Successful!")}),app.set("views",path.join(__dirname,"views")),app.set("view engine","pug"),app.use(bodyParser.json()),app.use(bodyParser.urlencoded({extended:!1})),app.use(cookieParser()),app.use(logger("dev")),app.use(express.static(path.join(__dirname,"public"))),app.locals.moment=require("moment");var index=require("./routes/index"),profile=require("./routes/profile");app.use("/",index),app.use("/profile",profile),app.use(function(e,o,r){var s=new Error("Page Not Found");s.status=404,r(s)}),app.use(function(e,o,r,s){r.send(e.message)}),app.listen(3e3,function(){console.log("Example app listening on port 3000!")});